<% include ../partials/header.ejs %>
    <style>
        .hidden {
            display: none;
        }
    </style>
    <script>
        var teams = [
            {
                name: 'Sun Risers Hyderabad',
                shortName: 'SRH',
                played: 4,
                won: 3,
                lost: 0,
                nr: 1,
                points: 10,
                nrr: '+1.90',
                fair: 38
            },
            {
                name: 'Kings XI Punjab',
                shortName: 'KXIP',
                played: 4,
                won: 0,
                lost: 3,
                nr: 1,
                points: 1,
                nrr: '-1.90',
                fair: 30
            }
        ];
    </script>
    <div class="ui top attached tabular link menu" style="width:80%; margin-left: 10%;">
        <div class="active item" id="team">Team Standings</div>
        <div class="item" id="orange">Orange Cap Standings</div>
        <div class="item" id="purple">Purple Cap Standings</div>
    </div>
    <div class="ui bottom attached active tab segment" style="width:80%; margin-left: 10%;">
        <div id="team-stat" class="tabelement">
            <table class="ui very basic collapsing striped celled table" style="width:90%; margin-left: 5%;">
                <thead>
                    <tr>
                        <th>Position</th>
                        <th>Team</th>
                        <th>Played</th>
                        <th>Won</th>
                        <th>Lost</th>
                        <th>Tie/NR</th>
                        <th>Points</th>
                        <th>NRR</th>
                        <th>Fair Play Points</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <div id="orange-stat" class="tabelement hidden">tab two</div>
        <div id="purple-stat" class="tabelement hidden">tab three</div>
    </div>
    <script>
        //TAB SWITCHING LOGIC
        $('.tabular.link.menu .item').on('click', function (oEvent) {
            $('.tabular.link.menu .item').removeClass('active');
            $('.tabelement').each(function (index, element) {
                element.setAttribute('class', 'tabelement hidden');
            });
            oEvent.target.setAttribute('class', 'active item');
            $('#' + oEvent.target.id + '-stat').removeClass('hidden');
        });

        //TAB FILLING LOGIC
        //TEAM TAB
        var parent = document.querySelector('#team-stat tbody');
        var i = 1;
        teams.forEach(function (team) {
            var tr = document.createElement('tr');

            var td1 = document.createElement('td');
            td1.textContent = i++;
            tr.appendChild(td1);

            var td2 = document.createElement('td');
            var h4 = document.createElement('h4');
            h4.setAttribute('class', 'ui image header');
            var divContent = document.createElement('div');
            divContent.setAttribute('class', 'content');
            divContent.appendChild(document.createTextNode(team.shortName));
            var divSubHeader = document.createElement('div');
            divSubHeader.setAttribute('class', 'sub header');
            divSubHeader.textContent = team.name;
            divContent.appendChild(divSubHeader);
            var img = document.createElement('img');
            img.setAttribute('src', 'images/' + team.shortName.toLowerCase() + '.png');
            img.setAttribute('class', 'ui mini rounded image');
            h4.appendChild(img);
            h4.appendChild(divContent);
            td2.appendChild(h4);
            tr.appendChild(td2);

            var td3 = document.createElement('td');
            td3.textContent = team.played;
            tr.appendChild(td3);

            var td4 = document.createElement('td');
            td4.textContent = team.won;
            tr.appendChild(td4);

            var td5 = document.createElement('td');
            td5.textContent = team.lost;
            tr.appendChild(td5);

            var td6 = document.createElement('td');
            td6.textContent = team.nr;
            tr.appendChild(td6);

            var td7 = document.createElement('td');
            td7.textContent = team.points;
            tr.appendChild(td7);

            var td8 = document.createElement('td');
            td8.textContent = team.nrr;
            tr.appendChild(td8);

            var td9 = document.createElement('td');
            td9.textContent = team.fair;
            tr.appendChild(td9);

            parent.appendChild(tr);
        });
    </script>
    <% include ../partials/footer.ejs %>